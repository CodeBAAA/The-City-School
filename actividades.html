<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The City School - Actividades</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/actividades.css">
</head>
<body>
    <header class="header">
        <div class="header-content">
            <div class="logo">
                <a href="index.html"> <img src="imagenes/logo.png" alt="The City School Logo" class="logo-img"></a>
                <h1>The City School</h1>
            </div>
            <nav class="nav">
                <ul>
                    <li><a href="index.html" class="nav-link ">Inicio</a></li>
                    <li><a href="Pre matricula.html" class="nav-link">Pre matrícula</a></li>
                    <li><a href="matricula.html" class="nav-link">Matrícula</a></li>
                    <li><a href="Contactenos.html" class="nav-link">Contáctenos</a></li>
                    <li><a href="https://www.academicanet.com/" class="nav-link">Academica</a></li>
                    <li><a href="Materias Especiales.html" class="nav-link">Materias Especiales</a></li>
                    <li><a href="actividades.html" class="nav-link active">Actividades</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <main class="main-content">
        <div class="min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 py-12 px-4">
            <div class="max-w-6xl mx-auto">
                <div class="text-center mb-12">
                    <h1 class="text-4xl font-bold text-gray-900 mb-4">Actividades Escolares</h1>
                    <p class="text-xl text-gray-600 mb-8">Descubre todas las actividades y eventos de nuestra institución</p>
                    
                    <button id="toggleFormButton" class="btn btn-lg bg-indigo-600 hover:bg-indigo-700" style="display: none;">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-5 h-5 mr-2"><path d="M12 5v14M5 12h14"/></svg>
                        Agregar Nueva Actividad
                    </button>
                </div>

                <div id="activityForm" class="card mb-8 shadow-lg" style="display: none;">
                    <div class="card-header">
                        <div class="card-title">Nueva Actividad</div>
                        <div class="card-description">Completa la información de la nueva actividad escolar</div>
                    </div>
                    <div class="card-content">
                        <form id="newActivityForm" class="space-y-6">
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                                <div>
                                    <label for="title">Título de la Actividad</label>
                                    <input type="text" id="title" required>
                                </div>
                                <div>
                                    <label for="category">Categoría</label>
                                    <input type="text" id="category" placeholder="Ej: Académico, Deportivo, Cultural" required>
                                </div>
                            </div>

                            <div>
                                <label for="description">Descripción</label>
                                <textarea id="description" rows="3" required></textarea>
                            </div>

                            <div class="grid grid-cols-1 md:grid-cols-4 gap-4">
                                <div>
                                    <label for="date">Fecha</label>
                                    <input type="date" id="date" required>
                                </div>
                                <div>
                                    <label for="time">Hora</label>
                                    <input type="time" id="time" required>
                                </div>
                                <div>
                                    <label for="location">Ubicación</label>
                                    <input type="text" id="location" required>
                                </div>
                                <div>
                                    <label for="participants">Participantes</label>
                                    <input type="number" id="participants" required>
                                </div>
                            </div>

                            <div>
                                <label>Imágenes (URLs)</label>
                                <div id="imageFieldsContainer">
                                    <div class="flex gap-2 mt-2">
                                        <input type="url" class="image-url-input" placeholder="URL de la imagen">
                                    </div>
                                </div>
                                <button type="button" id="addImageFieldButton" class="btn btn-outline mt-2">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-4 h-4 mr-2"><path d="M12 5v14M5 12h14"/></svg>
                                    Agregar Imagen
                                </button>
                            </div>

                            <div class="flex gap-4">
                                <button type="submit" class="btn bg-green-600 hover:bg-green-700">
                                    Guardar Actividad
                                </button>
                                <button type="button" id="cancelFormButton" class="btn btn-outline">
                                    Cancelar
                                </button>
                            </div>
                        </form>
                    </div>
                </div>

                <div id="activitiesList" class="space-y-8">
                </div>

                <div id="noActivitiesMessage" class="text-center py-12" style="display: none;">
                    <p class="text-gray-500 text-lg">No hay actividades registradas aún. ¡Agrega la primera actividad!</p>
                </div>
            </div>
        </div>
    </main>

    <footer class="footer">
        <div class="footer-content">
            <div class="footer-section">
                <h4>Contacto</h4>
                <p>📍 Av. Principal #123, Ciudad</p>
                <p>📞 (507) 6306-8517</p>
                <p>✉️ info@escuelasanjose.edu.pa</p>
            </div>
            <div class="footer-section">
                <h4>Horarios</h4>
                <p>Lunes a Viernes: 7:30 AM - 12:00 PM</p>
                <ul>
                    <li>Maternal</li>
                    <li>Pre Kinder</li>
                    <li>Kinder</li>
                </ul>
                <p>Lunes a Viernes: 7:30 AM - 1:30 PM</p>
                <ul>
                    <li>Primaria</li>
                </ul>
                <p>Horario Educatio + Day Care: 6:00 AM - 5:45 PM</p>
            </div>
            <div class="footer-section">
                <h4>Síguenos</h4>
                <a href="https://www.instagram.com/thecityschoolpanama/" target="_blank">
                    <img src="https://img.icons8.com/?size=100&id=32323&format=png&color=000000" alt="Instagram" >
                </a>
                <a href="https://www.tiktok.com/@thecityschool.pa" target="_blank">
                    <img src="https://img.icons8.com/?size=100&id=oKHadYScUe2I&format=png&color=000000" alt="tiktok" >
                </a>
            </div>
        </div>
        <div class="footer-bottom">
            <p>&copy; 2025 The City School. Todos los derechos reservados.</p>
        </div>
    </footer>
    <link rel="stylesheet" href="https://unpkg.com/flickity@2/dist/flickity.min.css" />
    <link rel="stylesheet" href="css/carr.css" />
    <script src="https://unpkg.com/flickity@2/dist/flickity.pkgd.min.js"></script>
    <script src="js/carrucel.js"></script>
    <script src="js/common.js"></script>
    <script src="js/forms.js"></script>
    <script src="js/modal.js"></script>
    <div id="modal" class="modal" style="display:none;">
        <span id="modal-close" class="modal-close">&times;</span>
        <img class="modal-content" id="modal-img" alt="Imagen ampliada" />
    </div>
    <a href="https://wa.me/50763068517?text=Hola,%20me%20interesa%20hacer%20una%20pregunta%20de la matricula%20"
       target="_blank" rel="noopener noreferrer" class="whatsapp-float-button">
        <img src="icono/whatsapp.png" alt="WhatsApp Icon">
    </a>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const toggleFormButton = document.getElementById('toggleFormButton');
            const activityForm = document.getElementById('activityForm');

            // Simulación de un usuario administrador (cambia 'tuContraseñaSecreta' por una real, pero esto es inseguro)
            const ADMIN_PASSWORD = 'admin123'; // ¡MUY INSEGURO! Solo para demostración.

            function checkAdminAccess() {
                const isAdmin = localStorage.getItem('isAdmin');
                if (isAdmin === 'true') {
                    toggleFormButton.style.display = 'inline-flex'; // Mostrar el botón
                } else {
                    toggleFormButton.style.display = 'none'; // Asegurarse de que esté oculto
                    activityForm.style.display = 'none'; // Asegurarse de que el formulario esté oculto
                }
            }

            // Crear un botón de "Iniciar sesión como administrador"
            const adminLoginButton = document.createElement('button');
            adminLoginButton.textContent = 'Iniciar Sesión (Admin)';
            adminLoginButton.classList.add('btn', 'btn-sm', 'bg-blue-500', 'hover:bg-blue-600', 'ml-4');
            adminLoginButton.style.display = 'block'; // Para que esté visible por defecto

            adminLoginButton.addEventListener('click', function() {
                const password = prompt('Introduce la contraseña de administrador:');
                if (password === ADMIN_PASSWORD) {
                    localStorage.setItem('isAdmin', 'true');
                    alert('Acceso de administrador concedido.');
                    checkAdminAccess(); // Actualizar visibilidad
                    adminLoginButton.style.display = 'none'; // Ocultar botón de login
                } else {
                    alert('Contraseña incorrecta.');
                    localStorage.setItem('isAdmin', 'false'); // Asegurarse de que no sea admin
                    checkAdminAccess();
                }
            });

            // Agrega el botón de login al div de text-center
            const textCenterDiv = document.querySelector('.text-center.mb-12');
            if (textCenterDiv) {
                textCenterDiv.appendChild(adminLoginButton);
            }

            // Inicializar la visibilidad al cargar la página
            checkAdminAccess();

            // Lógica existente para mostrar/ocultar el formulario (asumiendo que ya tienes actividades.js)
            toggleFormButton.addEventListener('click', function() {
                if (activityForm.style.display === 'none') {
                    activityForm.style.display = 'block';
                } else {
                    activityForm.style.display = 'none';
                }
            });

            const cancelFormButton = document.getElementById('cancelFormButton');
            cancelFormButton.addEventListener('click', function() {
                activityForm.style.display = 'none';
            });
        });
    </script>
    <script src="js/actividades.js"></script>
</body>
</html>